### ===========================================
### CROWDADS API - REST CLIENT TEST FILE
### ===========================================

### ===========================================
### INFLUENCERS ENDPOINTS
### ===========================================

### Get all influencers (with pagination)
GET http://localhost:3000/api/influencers

### Get all influencers with pagination
GET http://localhost:3000/api/influencers?page=1&limit=5

### Search influencers by username
GET http://localhost:3000/api/influencers?search=john

### Search influencers by name (English)
GET http://localhost:3000/api/influencers?search=sara

### Search influencers by email
GET http://localhost:3000/api/influencers?search=example.com

### Search with pagination
GET http://localhost:3000/api/influencers?search=tech&page=1&limit=3

### Get influencer by ID (with relationships and social platforms)
GET http://localhost:3000/api/influencers/1

### Create new influencer with social platforms
POST http://localhost:3000/api/influencers
Content-Type: application/json

{
  "username": "johndoe",
  "email": "john@example.com",
  "nameEn": "John Doe",
  "nameAr": "ÿ¨ŸàŸÜ ÿØŸà",
  "profilePictureUrl": "https://example.com/profiles/johndoe.jpg",
  "socialPlatforms": [
    {
      "key": "instagram",
      "url": "https://instagram.com/johndoe",
      "numberOfFollowers": 50000
    },
    {
      "key": "tiktok",
      "url": "https://tiktok.com/@johndoe",
      "numberOfFollowers": 25000
    },
    {
      "key": "youtube",
      "url": "https://youtube.com/johndoe",
      "numberOfFollowers": 10000
    }
  ]
}

### Create another influencer
POST http://localhost:3000/api/influencers
Content-Type: application/json

{
  "username": "sarasmith",
  "email": "sara@example.com",
  "nameEn": "Sara Smith",
  "nameAr": "ÿ≥ÿßÿ±ÿ© ÿ≥ŸÖŸäÿ´",
  "profilePictureUrl": "https://example.com/profiles/sarasmith.jpg",
  "socialPlatforms": [
    {
      "key": "instagram",
      "url": "https://instagram.com/sarasmith",
      "numberOfFollowers": 75000
    },
    {
      "key": "snapchat",
      "url": "https://snapchat.com/add/sarasmith",
      "numberOfFollowers": 30000
    }
  ]
}

### Update influencer (replace social platforms)
PATCH http://localhost:3000/api/influencers/1
Content-Type: application/json

{
  "nameEn": "John Doe Updated",
  "socialPlatforms": [
    {
      "key": "instagram",
      "url": "https://instagram.com/johndoe_official",
      "numberOfFollowers": 75000
    },
    {
      "key": "youtube",
      "url": "https://youtube.com/johndoe_official",
      "numberOfFollowers": 15000
    },
    {
      "key": "twitter",
      "url": "https://twitter.com/johndoe",
      "numberOfFollowers": 5000
    }
  ]
}

### Update only influencer info (keep existing social platforms)
PATCH http://localhost:3000/api/influencers/2
Content-Type: application/json

{
  "nameEn": "Sara Smith Pro",
  "nameAr": "ÿ≥ÿßÿ±ÿ© ÿ≥ŸÖŸäÿ´ ÿßŸÑŸÖÿ≠ÿ™ÿ±ŸÅÿ©"
}

### Delete influencer (cascades to social platforms and beats)
DELETE http://localhost:3000/api/influencers/1

### ===========================================
### BRANDS ENDPOINTS
### ===========================================

### Get all brands (with pagination)
GET http://localhost:3000/api/brands

### Get all brands with pagination
GET http://localhost:3000/api/brands?page=1&limit=5

### Search brands by English name
GET http://localhost:3000/api/brands?search=tech

### Search brands by Arabic name
GET http://localhost:3000/api/brands?search=ÿ™ŸÉ

### Search with pagination
GET http://localhost:3000/api/brands?search=fashion&page=1&limit=2

### Get brand by ID (with relationships and beats)
GET http://localhost:3000/api/brands/1

### Create new brand
POST http://localhost:3000/api/brands
Content-Type: application/json

{
  "nameEn": "TechCorp",
  "nameAr": "ÿ™ŸÉ ŸÉŸàÿ±ÿ®",
  "logoUrl": "https://example.com/logos/techcorp.png",
  "websiteUrl": "https://techcorp.com"
}

### Create another brand
POST http://localhost:3000/api/brands
Content-Type: application/json

{
  "nameEn": "Fashion Forward",
  "nameAr": "ÿ£ÿ≤Ÿäÿßÿ° ŸÖÿ™ŸÇÿØŸÖÿ©",
  "logoUrl": "https://example.com/logos/fashionforward.png",
  "websiteUrl": "https://fashionforward.com"
}

### Create tech brand
POST http://localhost:3000/api/brands
Content-Type: application/json

{
  "nameEn": "GreenTech Solutions",
  "nameAr": "ÿ≠ŸÑŸàŸÑ ÿßŸÑÿ™ŸÉŸÜŸàŸÑŸàÿ¨Ÿäÿß ÿßŸÑÿÆÿ∂ÿ±ÿßÿ°",
  "logoUrl": "https://example.com/logos/greentech.png",
  "websiteUrl": "https://greentech-solutions.com"
}

### Update brand
PATCH http://localhost:3000/api/brands/1
Content-Type: application/json

{
  "nameEn": "TechCorp International",
  "websiteUrl": "https://techcorp-intl.com"
}

### Delete brand (cascades to beats)
DELETE http://localhost:3000/api/brands/1

### ===========================================
### BEATS ENDPOINTS
### ===========================================

### Get all beats (with pagination)
GET http://localhost:3000/api/beats

### Get all beats with pagination
GET http://localhost:3000/api/beats?page=1&limit=5

### Search beats by caption
GET http://localhost:3000/api/beats?search=campaign

### Search beats by caption (case insensitive)
GET http://localhost:3000/api/beats?search=summer

### Search with pagination
GET http://localhost:3000/api/beats?search=fashion&page=1&limit=3

### Get beat by ID (with relationships - influencer and brand)
GET http://localhost:3000/api/beats/1

### Create new beat
POST http://localhost:3000/api/beats
Content-Type: application/json

{
  "caption": "Amazing summer campaign with the latest tech products! üåü",
  "mediaUrl": "https://example.com/media/summer-campaign.mp4",
  "thumbnailUrl": "https://example.com/thumbnails/summer-campaign.jpg",
  "statusKey": "published",
  "influencerId": 1,
  "brandId": 1
}

### Create another beat
POST http://localhost:3000/api/beats
Content-Type: application/json

{
  "caption": "Fashion week highlights - exclusive behind the scenes! ‚ú®",
  "mediaUrl": "https://example.com/media/fashion-week.mp4",
  "thumbnailUrl": "https://example.com/thumbnails/fashion-week.jpg",
  "statusKey": "published",
  "influencerId": 2,
  "brandId": 2
}

### Create draft beat
POST http://localhost:3000/api/beats
Content-Type: application/json

{
  "caption": "Upcoming product launch teaser",
  "mediaUrl": "https://example.com/media/product-teaser.mp4",
  "thumbnailUrl": "https://example.com/thumbnails/product-teaser.jpg",
  "statusKey": "draft",
  "influencerId": 1,
  "brandId": 3
}

### Create beat without caption
POST http://localhost:3000/api/beats
Content-Type: application/json

{
  "mediaUrl": "https://example.com/media/minimal-beat.mp4",
  "thumbnailUrl": "https://example.com/thumbnails/minimal-beat.jpg",
  "statusKey": "review",
  "influencerId": 2,
  "brandId": 1
}

### Update beat
PATCH http://localhost:3000/api/beats/1
Content-Type: application/json

{
  "caption": "Updated summer campaign with amazing results! üî•",
  "statusKey": "featured"
}

### Update beat status only
PATCH http://localhost:3000/api/beats/2
Content-Type: application/json

{
  "statusKey": "archived"
}

### Delete beat
DELETE http://localhost:3000/api/beats/1

### ===========================================
### ADVANCED PAGINATION AND SEARCH QUERIES
### ===========================================

### Test large page numbers
GET http://localhost:3000/api/beats?page=5&limit=2

### Test different page sizes
GET http://localhost:3000/api/influencers?page=1&limit=20

### Test edge cases - page 0 (should default to 1)
GET http://localhost:3000/api/brands?page=0&limit=5

### Test negative page (should default to 1)
GET http://localhost:3000/api/beats?page=-1&limit=5

### Test very large limit
GET http://localhost:3000/api/influencers?page=1&limit=100

### Search with no results
GET http://localhost:3000/api/beats?search=nonexistentterm

### Empty search (should return all with pagination)
GET http://localhost:3000/api/influencers?search=&page=1&limit=3

### ===========================================
### COMPLEX RELATIONSHIP QUERIES
### ===========================================

### Get all influencers with social platforms (paginated)
GET http://localhost:3000/api/influencers?page=1&limit=10

### Get all brands with their beats (paginated)
GET http://localhost:3000/api/brands?page=1&limit=10

### Get specific influencer with full relationships
GET http://localhost:3000/api/influencers/1

### Get specific brand with full relationships  
GET http://localhost:3000/api/brands/1

### ===========================================
### ERROR TESTING
### ===========================================

### Test validation errors - missing required fields
POST http://localhost:3000/api/influencers
Content-Type: application/json

{
  "username": "testuser"
  // Missing required fields: email, nameEn, nameAr, profilePictureUrl
}

### Test validation errors - invalid email
POST http://localhost:3000/api/influencers
Content-Type: application/json

{
  "username": "testuser2",
  "email": "invalid-email",
  "nameEn": "Test User",
  "nameAr": "ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä",
  "profilePictureUrl": "https://example.com/test.jpg"
}

### Test validation errors - invalid URL
POST http://localhost:3000/api/brands
Content-Type: application/json

{
  "nameEn": "Test Brand",
  "nameAr": "ÿπŸÑÿßŸÖÿ© ÿ™ÿ¨ÿßÿ±Ÿäÿ© ÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©",
  "logoUrl": "invalid-url",
  "websiteUrl": "https://valid-url.com"
}

### Test validation errors - invalid social platform key
POST http://localhost:3000/api/influencers
Content-Type: application/json

{
  "username": "testuser3",
  "email": "test3@example.com",
  "nameEn": "Test User 3",
  "nameAr": "ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä 3",
  "profilePictureUrl": "https://example.com/test3.jpg",
  "socialPlatforms": [
    {
      "key": "invalid-platform",
      "url": "https://example.com/profile",
      "numberOfFollowers": 1000
    }
  ]
}

### Test foreign key constraint - non-existent influencer
POST http://localhost:3000/api/beats
Content-Type: application/json

{
  "caption": "Test beat with invalid influencer",
  "mediaUrl": "https://example.com/media/test.mp4",
  "thumbnailUrl": "https://example.com/thumbnails/test.jpg",
  "statusKey": "draft",
  "influencerId": 999,
  "brandId": 1
}

### Test foreign key constraint - non-existent brand
POST http://localhost:3000/api/beats
Content-Type: application/json

{
  "caption": "Test beat with invalid brand",
  "mediaUrl": "https://example.com/media/test.mp4",
  "thumbnailUrl": "https://example.com/thumbnails/test.jpg",
  "statusKey": "draft",
  "influencerId": 1,
  "brandId": 999
}

### ===========================================
### BULK DATA CREATION FOR TESTING
### ===========================================

### Create multiple influencers for testing
POST http://localhost:3000/api/influencers
Content-Type: application/json

{
  "username": "alextech",
  "email": "alex@techworld.com",
  "nameEn": "Alex Johnson",
  "nameAr": "ÿ£ŸÑŸäŸÉÿ≥ ÿ¨ŸàŸÜÿ≥ŸàŸÜ",
  "profilePictureUrl": "https://example.com/profiles/alex.jpg",
  "socialPlatforms": [
    {
      "key": "youtube",
      "url": "https://youtube.com/alextech",
      "numberOfFollowers": 100000
    },
    {
      "key": "twitter",
      "url": "https://twitter.com/alextech",
      "numberOfFollowers": 25000
    }
  ]
}

### Create gaming influencer
POST http://localhost:3000/api/influencers
Content-Type: application/json

{
  "username": "gamerpro",
  "email": "gamer@proplay.com",
  "nameEn": "GameMaster Pro",
  "nameAr": "ŸÖÿ≠ÿ™ÿ±ŸÅ ÿßŸÑÿ£ŸÑÿπÿßÿ®",
  "profilePictureUrl": "https://example.com/profiles/gamer.jpg",
  "socialPlatforms": [
    {
      "key": "tiktok",
      "url": "https://tiktok.com/@gamerpro",
      "numberOfFollowers": 200000
    },
    {
      "key": "youtube",
      "url": "https://youtube.com/gamemaster",
      "numberOfFollowers": 50000
    },
    {
      "key": "instagram",
      "url": "https://instagram.com/gamerpro",
      "numberOfFollowers": 75000
    }
  ]
}

### ===========================================
### COMPREHENSIVE SEARCH AND FILTER TESTING
### ===========================================

### BEATS SEARCH TESTS
### Search beats by caption
GET http://localhost:3000/api/beats?search=summer

### Search beats with pagination
GET http://localhost:3000/api/beats?search=campaign&page=1&limit=2

### Search beats case insensitive
GET http://localhost:3000/api/beats?search=FASHION

### INFLUENCERS SEARCH TESTS
### Search influencers by username
GET http://localhost:3000/api/influencers?search=john

### Search influencers by English name
GET http://localhost:3000/api/influencers?search=smith

### Search influencers by Arabic name
GET http://localhost:3000/api/influencers?search=ÿ≥ÿßÿ±ÿ©

### Search influencers by email domain
GET http://localhost:3000/api/influencers?search=example.com

### Search influencers with pagination
GET http://localhost:3000/api/influencers?search=pro&page=1&limit=2

### BRANDS SEARCH TESTS
### Search brands by English name
GET http://localhost:3000/api/brands?search=tech

### Search brands by Arabic name
GET http://localhost:3000/api/brands?search=ÿ≠ŸÑŸàŸÑ

### Search brands case insensitive
GET http://localhost:3000/api/brands?search=FASHION

### Search brands with pagination
GET http://localhost:3000/api/brands?search=corp&page=1&limit=1

### COMBINED SEARCH AND PAGINATION TESTS
### Test pagination metadata with different scenarios
GET http://localhost:3000/api/beats?page=2&limit=2

### Test total vs filtered counts
GET http://localhost:3000/api/influencers?search=nonexistent&page=1&limit=5

### Test hasNextPage and hasPreviousPage flags
GET http://localhost:3000/api/brands?page=1&limit=1

### ===========================================
### RESPONSE STRUCTURE EXAMPLES
### ===========================================
### The following requests demonstrate the new standardized response structure
### with pagination metadata across all domains

### Example: Beats findAll response structure
### Expected Response:
### {
###   "data": [
###     {
###       "id": 1,
###       "caption": "Sample beat caption",
###       "mediaUrl": "https://example.com/media.mp4",
###       "thumbnailUrl": "https://example.com/thumb.jpg",
###       "statusKey": "active",
###       "createdAt": "2024-01-01T00:00:00.000Z",
###       "updatedAt": "2024-01-01T00:00:00.000Z",
###       "influencer": { "id": 1, "username": "...", ... },
###       "brand": { "id": 1, "nameEn": "...", ... }
###     }
###   ],
###   "meta": {
###     "page": 1,
###     "limit": 10,
###     "totalItems": 50,
###     "totalFiltered": 25,
###     "totalPages": 3,
###     "hasNextPage": true,
###     "hasPreviousPage": false
###   }
### }
GET http://localhost:3000/api/beats?page=1&limit=2

### Example: Influencers findAll response structure  
### Expected Response: Similar structure with influencer data and socialPlatforms
GET http://localhost:3000/api/influencers?page=1&limit=2

### Example: Brands findAll response structure
### Expected Response: Similar structure with brand data and beats relation
GET http://localhost:3000/api/brands?page=1&limit=2

### Example: findOne responses (no pagination, just structured data)
### Expected Response: Single entity with relations, no meta object
GET http://localhost:3000/api/beats/1
GET http://localhost:3000/api/influencers/1  
GET http://localhost:3000/api/brands/1